(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DashBoard"],{"6be2":function(e,t,n){"use strict";var a=function(e){return{all:e=e||new Map,on:function(t,n){var a=e.get(t);a?a.push(n):e.set(t,[n])},off:function(t,n){var a=e.get(t);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var a=e.get(t);a&&a.slice().map((function(e){e(n)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,n)}))}}},c=a();t["a"]=c},"8b8a":function(e,t,n){"use strict";n.r(t);var a=n("7a23");function c(e,t,n,c,o,s){var r=Object(a["resolveComponent"])("AdminNavbar"),i=Object(a["resolveComponent"])("ToastMessages"),l=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(r),Object(a["createVNode"])(i),o.checkSuccess?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0})):Object(a["createCommentVNode"])("",!0)],64)}n("ac1f"),n("5319");var o={class:"navbar navbar-expand-lg navbar-dark bg-dark"},s={class:"container-fluid"},r=Object(a["createElementVNode"])("a",{class:"navbar-brand",href:"#"},"後台",-1),i=Object(a["createElementVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["createElementVNode"])("span",{class:"navbar-toggler-icon"})],-1),l={id:"navbarSupportedContent",class:"collapse navbar-collapse"},u={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item"},b=Object(a["createTextVNode"])("後台產品列表"),m={class:"nav-item"},p=Object(a["createTextVNode"])("訂單"),f={class:"nav-item"},v=Object(a["createTextVNode"])("優惠券"),j={class:"nav-item"},h=Object(a["createTextVNode"])("部落格"),O={class:"nav-item"},g=Object(a["createTextVNode"])("回到前台");function k(e,t,n,c,k,N){var V=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("nav",o,[Object(a["createElementVNode"])("div",s,[r,i,Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("ul",u,[Object(a["createElementVNode"])("li",d,[Object(a["createVNode"])(V,{class:"nav-link",to:"/admin/products"},{default:Object(a["withCtx"])((function(){return[b]})),_:1})]),Object(a["createElementVNode"])("li",m,[Object(a["createVNode"])(V,{class:"nav-link",to:"/admin/orders"},{default:Object(a["withCtx"])((function(){return[p]})),_:1})]),Object(a["createElementVNode"])("li",f,[Object(a["createVNode"])(V,{class:"nav-link",to:"/admin/coupon"},{default:Object(a["withCtx"])((function(){return[v]})),_:1})]),Object(a["createElementVNode"])("li",j,[Object(a["createVNode"])(V,{class:"nav-link",to:"/admin/articles"},{default:Object(a["withCtx"])((function(){return[h]})),_:1})]),Object(a["createElementVNode"])("li",O,[Object(a["createVNode"])(V,{class:"nav-link",to:"/"},{default:Object(a["withCtx"])((function(){return[g]})),_:1})])])]),Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=Object(a["withModifiers"])((function(){return N.signout&&N.signout.apply(N,arguments)}),["prevent"]))},"登出")])])}var N={name:"AdminNavbar",methods:{signout:function(){document.cookie="hexToken=;expires=;",this.$router.push("/login")}}},V=n("6b0d"),E=n.n(V);const x=E()(N,[["render",k]]);var y=x,C=n("6be2"),w=(n("a15b"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"更新";if(e.data.success)C["a"].emit("push-message",{style:"success",title:"".concat(t,"成功")});else{var n="string"===typeof e.data.message?[e.data.message]:e.data.message;C["a"].emit("push-message",{style:"danger",title:"".concat(t,"失敗"),content:n.join("、")})}}),B={class:"toast-container position-fixed pe-3 top-0 end-0",style:{"z-index":"1500"}},T={class:"toast-header"},S={class:"me-auto"},$=["onClick"],M={key:0,class:"toast-body"};function A(e,t,n,c,o,s){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",B,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.messages,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:Object(a["normalizeClass"])(["toast show","toast".concat(t)]),role:"alert"},[Object(a["createElementVNode"])("div",T,[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["bg-".concat(e.style),"p-2 rounded me-2 d-inline-block"])},null,2),Object(a["createElementVNode"])("strong",S,Object(a["toDisplayString"])(e.title),1),Object(a["createElementVNode"])("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:function(e){return s.clearToast(t)}},null,8,$)]),e.content?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",M,Object(a["toDisplayString"])(e.content),1)):Object(a["createCommentVNode"])("",!0)],2)})),128))])}n("a434");var _={data:function(){return{messages:[]}},inject:["emitter"],methods:{toastShow:function(){var e=this;setTimeout((function(){e.messages.shift()}),6e3)},clearToast:function(e){this.messages.splice(e,1)}},mounted:function(){var e=this;this.emitter.on("push-message",(function(t){var n=t.style,a=void 0===n?"success":n,c=t.title,o=t.content;e.messages.push({style:a,title:c,content:o}),e.toastShow()}))}};const z=E()(_,[["render",A]]);var D=z,L={name:"DashBoard",components:{AdminNavbar:y,ToastMessages:D},provide:function(){return{emitter:C["a"],$httpMessageState:w}},data:function(){return{checkSuccess:!1}},methods:{checkLogin:function(){var e=this,t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(t){this.$http.defaults.headers.common.Authorization=t;var n="".concat("https://vue3-course-api.hexschool.io/v2","/api/user/check");this.$http.post(n).then((function(){e.checkSuccess=!0})).catch((function(t){console.error(t),e.$router.push("/login")}))}else this.$router.push("/login")}},mounted:function(){this.checkLogin()}};const F=E()(L,[["render",c]]);t["default"]=F},a15b:function(e,t,n){"use strict";var a=n("23e7"),c=n("e330"),o=n("44ad"),s=n("fc6a"),r=n("a640"),i=c([].join),l=o!=Object,u=r("join",",");a({target:"Array",proto:!0,forced:l||!u},{join:function(e){return i(s(this),void 0===e?",":e)}})},a434:function(e,t,n){"use strict";var a=n("23e7"),c=n("da84"),o=n("23cb"),s=n("5926"),r=n("07fa"),i=n("7b0b"),l=n("65f0"),u=n("8418"),d=n("1dde"),b=d("splice"),m=c.TypeError,p=Math.max,f=Math.min,v=9007199254740991,j="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!b},{splice:function(e,t){var n,a,c,d,b,h,O=i(this),g=r(O),k=o(e,g),N=arguments.length;if(0===N?n=a=0:1===N?(n=0,a=g-k):(n=N-2,a=f(p(s(t),0),g-k)),g+n-a>v)throw m(j);for(c=l(O,a),d=0;d<a;d++)b=k+d,b in O&&u(c,d,O[b]);if(c.length=a,n<a){for(d=k;d<g-a;d++)b=d+a,h=d+n,b in O?O[h]=O[b]:delete O[h];for(d=g;d>g-a+n;d--)delete O[d-1]}else if(n>a)for(d=g-a;d>k;d--)b=d+a-1,h=d+n-1,b in O?O[h]=O[b]:delete O[h];for(d=0;d<n;d++)O[d+k]=arguments[d+2];return O.length=g-a+n,c}})}}]);
//# sourceMappingURL=DashBoard.cf5a679e.js.map