{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/FrontStage/SingleProductView.vue","webpack:///./src/views/FrontStage/SingleProductView.vue?7956","webpack:///./src/views/FrontStage/SingleProductView.vue?5cde"],"names":["$","global","fails","isArray","isObject","toObject","lengthOfArrayLike","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","TypeError","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","class","_createElementVNode","_hoisted_24","_createVNode","_component_Loading","active","$data","$event","can-cancel","is-full-page","_component_Spinner","_hoisted_2","_toDisplayString","title","_hoisted_7","id","_createElementBlock","_Fragment","key","src","imageUrl","alt","_renderList","imagesUrl","imgUrl","_hoisted_12","category","description","content","price","origin_price","unit","type","min","disabled","onClick","$options","_hoisted_25","name","components","Loading","Spinner","data","qty","product","isLoadingItem","isLoading","fullPage","mixins","swalMixins","methods","getProduct","$route","params","$http","get","process","then","res","catch","addToCart","product_id","post","emitter","emit","alertSuccess","message","err","alertError","mounted","__exports__","render"],"mappings":"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","file":"js/SingleProduct.6dffc68f.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\nvar TypeError = global.TypeError;\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","<template>\n  <!-- vue-loading-overlay start -->\n  <div class=\"vld-parent\">\n    <Loading v-model:active=\"isLoading\" :can-cancel=\"true\" :is-full-page=\"fullPage\">\n      <Spinner></Spinner>\n    </Loading>\n  </div>\n  <!-- vue-loading-overlay end -->\n  <h2>單一產品</h2>\n  <div class=\"container\">\n    <div class=\"row py-3\">\n      <!-- left side -->\n      <h5 class=\"bg-dark text-white\">{{ product.title }}</h5>\n      <div class=\"col-md-6\">\n        <h2>單一產品細節</h2>\n        <!-- template,搭配 v-if -->\n        <template v-if=\"product.id\">\n          <div class=\"card mb-3\">\n            <img :src=\"product.imageUrl\" class=\"card-img-top primary-image\" alt=\"主圖\" />\n          </div>\n          <span v-for=\"imgUrl in product.imagesUrl\" :key=\"imgUrl\">\n            <img :src=\"imgUrl\" class=\"images m-2\" alt=\"images\" />\n          </span>\n        </template>\n        <!-- <template v-else>\n          <p class=\"text-secondary\">請選擇一個商品查看</p>\n        </template> -->\n      </div>\n      <!-- right side -->\n      <div class=\"col-md-6\">\n        <h2>單一產品細節</h2>\n        <!-- template,搭配 v-if -->\n        <template v-if=\"product.id\">\n          <div class=\"card mb-3\">\n            <!-- <img :src=\"product.imageUrl\" class=\"card-img-top primary-image\" alt=\"主圖\" /> -->\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">\n                {{ product.title }}\n                <span class=\"badge bg-primary ms-2\">{{ product.category }}</span>\n              </h5>\n              <p class=\"card-text\">商品描述：{{ product.description }}</p>\n              <p class=\"card-text\">商品內容：{{ product.content }}</p>\n              <div class=\"d-flex\">\n                <p class=\"card-text me-2\">{{ product.price }}</p>\n                <p class=\"card-text text-secondary\">\n                  <del>{{ product.origin_price }}</del>\n                </p>\n                元 /{{ product.unit }}\n              </div>\n\n              <div class=\"input-group\">\n                <input v-model=\"qty\" type=\"number\" class=\"form-control\" min=\"1\" />\n                <button\n                  type=\"button\"\n                  class=\"btn btn-primary\"\n                  :disabled=\"isLoadingItem === product.id\"\n                  @click=\"addToCart(product.id, qty)\"\n                >\n                  <span v-show=\"isLoadingItem === product.id\"\n                    ><i class=\"fas fa-spinner fa-pulse\"></i\n                  ></span>\n                  加入購物車\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- <span v-for=\"imgUrl in product.imagesUrl\" :key=\"imgUrl\">\n            <img :src=\"imgUrl\" class=\"images m-2\" alt=\"images\" />\n          </span> -->\n        </template>\n        <template v-else>\n          <!-- <p class=\"text-secondary\">請選擇一個商品查看</p> -->\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swalMixins from '@/mixins/swalMixins';\nimport emitter from '@/libs/emitter';\n\n// vue-loading-overlay\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport Spinner from '@/components/LoadingOverlay/Spinner.vue';\n\nexport default {\n  name: 'SingleProductView',\n  components: {\n    Loading,\n    Spinner,\n  },\n  data() {\n    return {\n      qty: 1,\n      product: [],\n      isLoadingItem: '', // bootstrap loading\n      isLoading: false, // vue-overlay loading\n      fullPage: true, // vue-overlay fullPage\n    };\n  },\n  mixins: [swalMixins],\n  methods: {\n    getProduct() {\n      // console.log(this.$route.params.id);\n      const { id } = this.$route.params;\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`)\n        .then((res) => {\n          // console.log(res);\n          this.product = res.data.product;\n        })\n        .catch(() => {\n          // console.log(err);\n        });\n    },\n\n    // 加入購物車\n    addToCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      // console.log(data);\n      // this.isLoading = true;\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, {\n          data,\n        })\n        .then((res) => {\n          // console.log('addToCart', res);\n          emitter.emit('get-cart');\n          // this.getCart();\n          this.isLoading = false;\n          this.alertSuccess(res.data.message);\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          // console.error(err.data.message);\n          this.alertError(err);\n        });\n    },\n  },\n  mounted() {\n    this.getProduct();\n  },\n};\n</script>\n<style scoped>\nimg {\n  object-fit: contain;\n  max-width: 100%;\n}\n\n.primary-image {\n  height: 300px;\n}\n\n.images {\n  height: 150px;\n}\n</style>\n","import { render } from \"./SingleProductView.vue?vue&type=template&id=b2b4f70c&scoped=true\"\nimport script from \"./SingleProductView.vue?vue&type=script&lang=js\"\nexport * from \"./SingleProductView.vue?vue&type=script&lang=js\"\n\nimport \"./SingleProductView.vue?vue&type=style&index=0&id=b2b4f70c&scoped=true&lang=css\"\n\nimport exportComponent from \"/var/www/html/Vue22SprW7/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b2b4f70c\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SingleProductView.vue?vue&type=style&index=0&id=b2b4f70c&scoped=true&lang=css\""],"sourceRoot":""}